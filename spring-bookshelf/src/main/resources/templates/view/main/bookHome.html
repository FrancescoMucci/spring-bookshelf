<!DOCTYPE html>

<html lang="en"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org">

<head>
	<title>Book home view</title>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

	<link rel="stylesheet" 
		th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
	<link rel="stylesheet" 
		th:href="@{/webjars/font-awesome/css/all.css}">
	<link rel="stylesheet" 
		th:href="@{/css/main.css}">
</head>

<body>
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-center sticky-top">
		<a class="navbar-brand" th:href="@{/book}">
			<span><i class="fas fa-home" aria-hidden="true"></i></span>
			<span>Mucci's bookshelf</span>
		</a>
		<ul class="navbar-nav">
			<li>
				<a class="nav-link" th:href="@{/book/list}">
					<span><i class="fas fa-book" aria-hidden="true"></i></span>
					<span>Show book list</span>
				</a>
			</li>
			<li>
				<a class="nav-link" th:href="@{/book/searchByIsbn}">
					<span><i class="fas fa-search" aria-hidden="true"></i></span>
					<span>Search book by isbn</span>
				</a>
			</li>
			<li>
				<a class="nav-link" th:href="@{/book/searchByTitle}">
					<span><i class="fas fa-search" aria-hidden="true"></i></span>
					<span>Search book by title</span>
				</a>
			</li>
			<li sec:authorize="hasRole('ADMIN')">
				<a class="nav-link" th:href="@{/book/new}">
					<span><i class="fas fa-plus" aria-hidden="true"></i></span>
					<span>Add new book</span>
				</a>
			</li>
		</ul>
		<form sec:authorize="isAuthenticated()" name="logout-form" th:action="@{/logout}" method="post">
			<button type="submit" class="btn btn-dark text-white-50" name="logout-button">
				<span><i class="fas fa-sign-out-alt" aria-hidden="true"></i></span>
				<span>Logout</span>
			</button>
		</form>
	</nav>

	<section class="pb-3" >
		<div sec:authorize="!isAuthenticated()">
			<header class="container my-5 text-center" id="header">
				<h2>Welcome to my book library!</h2>
				<p>Feel free to explore, but remember that you need administrator privileges to create, edit or delete books</p>
			</header>
			<div class="container my-5 text-center">
				<form name="login-form" id="login-form"
					th:action="@{/login}" method="post">
					<div class="form-group">
						<label id="username-label">User</label>
						<input class="form-control form-control-lg text-center"
							required type="text" name="username" placeholder="e.g. Admin"/>
					</div>
					<div class="form-group">
						<label id="password-label">Password</label>
						<input class="form-control form-control-lg text-center"
							required type="password" name="password" placeholder="e.g. Password"/>
					</div>
					<div class="form-group pt-3">
						<button class="btn btn-block btn-outline-dark" type="submit" name="submit-button">
							<span><i class="fas fa-sign-in-alt" aria-hidden="true"></i></span>
							<span>Login</span>
						</button>
					</div>
					<div class="form-group form-check">
						<input class="form-check-input" type="checkbox" id="remember-me" name="remember-me">
						<label class="form-check-label">Remember me</label>
					</div>
					<div class="form-group pb-5">
						<div th:if="${param.error}" id="authentication-error" class="alert alert-warning">Invalid user name or password</div>
						<div th:if="${param.logout}" id="logout-message" class="alert alert-success">Logged out successfully</div>
					</div>
				</form>
			</div>
		</div>
		<div sec:authorize="isAuthenticated()">
			<header class="container my-5 text-center" id="header">
				<h2>Welcome back!</h2>
				<p>Feel free to explore, create, edit or delete books</p>
			</header>
		</div>
	</section>

	<footer th:fragment="fragment" class="site-footer font-small fixed-bottom">
		<div class="footer-copyright text-center py-3">&copy; 2021 Copyright: Francesco Mucci</div>
	</footer>
</body>